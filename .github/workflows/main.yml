name : CI for compilation using docker CMSIS
on :
  push:
    branches:
      - master 

jobs :
  build :
    runs-on : ubuntu-latest
    container:
      image: kamda314/stm32l476rg_compiler:latest
    steps :
      - name : Checkout repository
        uses : actions/checkout@v3
      - name: Install ARM toolchain packages
        run: |
          apt-get update
          apt-get install -y gcc-arm-none-eabi libnewlib-arm-none-eabi binutils-arm-none-eabi
        
      - run : make -C blinky CMSIS_DIR="/cmsis" all    

